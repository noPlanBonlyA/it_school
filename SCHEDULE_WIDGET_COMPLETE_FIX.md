# –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–∂–µ—Ç–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è - –û–ö–û–ù–ß–ê–¢–ï–õ–¨–ù–´–ô –°–¢–ê–¢–£–°

## –ü—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã ‚úÖ

### 1. ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: 404/422 –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ course_id
- **–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `lesson_id` –≤–º–µ—Å—Ç–æ `group_id` –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ `/courses/lesson-group`
- **–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∞ fallback –ª–æ–≥–∏–∫–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ `group_id`
- **–§–∞–π–ª—ã**: `Schedule.jsx`, `scheduleService.js`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `COURSE_ID_BUG_FIX_FINAL.md`, `COURSE_ID_BUG_FIX_COMPLETE.md`

### 2. ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: 422 –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è
- **–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª–µ–π –∑–∞–ø—Ä–æ—Å–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ —Å—Ö–µ–º—ã –±—ç–∫–µ–Ω–¥–∞
- **–†–µ—à–µ–Ω–∏–µ**: 
  - –¢–µ–∫—Å—Ç–æ–≤–æ–µ –î–ó: `content` ‚Üí `html_text`
  - –§–∞–π–ª–æ–≤–æ–µ –î–ó: `name` ‚Üí `homework_material_name`, `file` ‚Üí `homework_material_file`
- **–§–∞–π–ª—ã**: `Schedule.jsx`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `HOMEWORK_422_FIX.md`, `HOMEWORK_UPLOAD_CHANGES.md` (–æ–±–Ω–æ–≤–ª–µ–Ω)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ Schedule.jsx

#### 1. Fallback –ª–æ–≥–∏–∫–∞ –¥–ª—è course_id:
```javascript
// –ò–°–ü–†–ê–í–õ–ï–ù–û: –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ group_id –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ lesson-groups
const lessonGroupsResponse = await api.get(`/courses/lesson-group?group_id=${event.group_id}`);
const lessonGroups = lessonGroupsResponse.data;

// –ù–∞—Ö–æ–¥–∏–º lesson-group —Å –Ω—É–∂–Ω—ã–º lesson_id
const matchingLessonGroup = lessonGroups.find(lg => lg.lesson_id === event.lesson_id);
if (matchingLessonGroup && matchingLessonGroup.lesson) {
  return matchingLessonGroup.lesson.course_id;
}
```

#### 2. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –î–ó:
```javascript
// –¢–µ–∫—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ
await api.post(textEndpoint, {
  name: homeworkData.name,
  html_text: homeworkData.textContent.trim()  // –ù–ï content
});

// –§–∞–π–ª–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ
formData.append('homework_material_name', homeworkData.name);  // –ù–ï name
formData.append('homework_material_file', homeworkData.file);  // –ù–ï file
```

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ scheduleService.js

#### –û–±–Ω–æ–≤–ª–µ–Ω—ã getUserSchedule –∏ getUserScheduleOptimized:
```javascript
// –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ course_id –≤ —Å–æ–±—ã—Ç–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
return {
  id: item.id,
  lesson_id: item.lesson_id,
  course_id: lesson?.course_id || null,  // –î–û–ë–ê–í–õ–ï–ù–û
  group_id: item.group_id,
  // ...–æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
};
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:
1. ‚úÖ –°–æ–±—ã—Ç–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. ‚úÖ course_id –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –∫–∞–∂–¥–æ–º —Å–æ–±—ã—Ç–∏–∏
3. ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ 404/422 –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
4. ‚úÖ Fallback –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ course_id

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –î–ó:
1. ‚úÖ –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ "–ü—Ä–æ–≤–µ—Å—Ç–∏ —É—Ä–æ–∫"
2. ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è
3. ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è
4. ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—Å—Ç–∞ + —Ñ–∞–π–ª–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
5. ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

### –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞:
- `/src/components/Schedule.jsx` - –æ—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `/src/services/scheduleService.js` - fallback –ª–æ–≥–∏–∫–∞ –∏ course_id

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `/COURSE_ID_BUG_FIX_FINAL.md` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 404/422 –æ—à–∏–±–æ–∫
- `/COURSE_ID_BUG_FIX_COMPLETE.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ
- `/HOMEWORK_422_FIX.md` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –î–ó
- `/HOMEWORK_UPLOAD_CHANGES.md` - –æ–±–Ω–æ–≤–ª–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã:
- –ù–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –î–æ–±–∞–≤–ª–µ–Ω—ã —É–ª—É—á—à–µ–Ω–∏—è –±–µ–∑ –ø–æ–ª–æ–º–∫–∏ —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞

## –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

üéâ **–í–°–ï –ü–†–û–ë–õ–ï–ú–´ –†–ï–®–ï–ù–´**

–í–∏–¥–∂–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Ç–µ–ø–µ—Ä—å:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç course_id –¥–ª—è –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
- ‚úÖ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 04.07.2025
**–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã**: ‚úÖ
**–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É**: ‚úÖ
