# –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –º–æ–Ω–µ—Ç–∞—Ö

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞–º –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:

### 1. –ü—Ä–∏ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏–∏ —É—Ä–æ–∫–æ–≤ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º (Schedule.jsx)
- ‚úÖ –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –º–æ–Ω–µ—Ç –∑–∞ –ø–æ—Å–µ—â–µ–Ω–∏–µ —É—Ä–æ–∫–∞
- ‚úÖ –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –º–æ–Ω–µ—Ç –∑–∞ –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: "–í–∞–º –Ω–∞—á–∏—Å–ª–µ–Ω–æ X –º–æ–Ω–µ—Ç –∑–∞ –ø–æ—Å–µ—â–µ–Ω–∏–µ —É—Ä–æ–∫–∞! ü™ô"

### 2. –ü—Ä–∏ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ API (homeworkService.js)
- ‚úÖ –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –º–æ–Ω–µ—Ç —á–µ—Ä–µ–∑ updateLessonStudent
- ‚úÖ –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ student_profile_id –≤ updateData

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

### –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏:

```javascript
import { createPointsHistoryWithNotification, POINT_REASONS } from '../services/coinHistoryService';

// –ë–æ–Ω—É—Å –∑–∞ —Ö–æ—Ä–æ—à–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
await createPointsHistoryWithNotification({
  user_id: studentUserId,
  reason: POINT_REASONS.BONUS,
  changed_points: 10,
  description: '–ë–æ–Ω—É—Å –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ –≤ —É—Ä–æ–∫–µ'
}, studentProfileId);

// –®—Ç—Ä–∞—Ñ –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ
await createPointsHistoryWithNotification({
  user_id: studentUserId,
  reason: POINT_REASONS.PENALTY,
  changed_points: -5,
  description: '–®—Ç—Ä–∞—Ñ –∑–∞ –æ–ø–æ–∑–¥–∞–Ω–∏–µ'
}, studentProfileId);

// –ü–æ–∫—É–ø–∫–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–µ
await createPointsHistoryWithNotification({
  user_id: studentUserId,
  reason: POINT_REASONS.BUY,
  changed_points: -20,
  description: '–ü–æ–∫—É–ø–∫–∞: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ —Ç–µ—Å—Ç–∞'
}, studentProfileId);
```

### –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π –∑–∞ —É—Ä–æ–∫ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏:

```javascript
import { createLessonCoinsHistory } from '../services/coinHistoryService';

// –ü—Ä–∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –æ—Ü–µ–Ω–æ–∫ —á–µ—Ä–µ–∑ Schedule.jsx (—É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ)
await createLessonCoinsHistory(
  studentUserId,
  {
    coins_for_visit: 5,
    coins_for_homework: 10
  },
  {
    lesson_name: '–û—Å–Ω–æ–≤—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è',
    course_name: 'JavaScript –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö'
  },
  studentProfileId // –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
);
```

## –ö–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç:

### –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –º–æ–Ω–µ—Ç:
- "–í–∞–º –Ω–∞—á–∏—Å–ª–µ–Ω–æ 5 –º–æ–Ω–µ—Ç –∑–∞ –ø–æ—Å–µ—â–µ–Ω–∏–µ —É—Ä–æ–∫–∞! ü™ô"
- "–í–∞–º –Ω–∞—á–∏—Å–ª–µ–Ω–æ 10 –º–æ–Ω–µ—Ç –∑–∞ –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ! ü™ô"
- "–í–∞–º –Ω–∞—á–∏—Å–ª–µ–Ω–æ 15 –º–æ–Ω–µ—Ç –∑–∞ –±–æ–Ω—É—Å! ü™ô"

### –°–ø–∏—Å–∞–Ω–∏–µ –º–æ–Ω–µ—Ç:
- "–í–∞–º –Ω–∞—á–∏—Å–ª–µ–Ω–æ 5 –º–æ–Ω–µ—Ç –∑–∞ —Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞ —à—Ç—Ä–∞—Ñ! ü™ô"
- "–í–∞–º –Ω–∞—á–∏—Å–ª–µ–Ω–æ 20 –º–æ–Ω–µ—Ç –∑–∞ —Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞ –ø–æ–∫—É–ø–∫—É! ü™ô"

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏:

### ‚úÖ Schedule.jsx
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ—Ü–µ–Ω–æ–∫

### ‚úÖ homeworkService.js  
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä student_profile_id –≤ updateData

### üîÑ –ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –ø–æ–∫—É–ø–æ–∫ –≤ –º–∞–≥–∞–∑–∏–Ω–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–æ–Ω—É—Å—ã –∑–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- –®—Ç—Ä–∞—Ñ—ã –∑–∞ –ø—Ä–æ–ø—É—Å–∫–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è–º –æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è—Ö/—Å–ø–∏—Å–∞–Ω–∏—è—Ö

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:

```javascript
// –í updateData –¥–ª—è homeworkService.updateLessonStudent –¥–æ–±–∞–≤–∏—Ç—å:
{
  student_id: 'user_id_—Å—Ç—É–¥–µ–Ω—Ç–∞',
  student_profile_id: 'profile_id_—Å—Ç—É–¥–µ–Ω—Ç–∞', // –ù–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  lesson_name: '–ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞',
  course_name: '–ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞',
  coins_for_visit: 5,
  coins_for_homework: 10,
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}
```
