# Исправление фильтрации курсов "All" (Все возрасты)

## Проблема
Курсы с категорией "All" (все возрасты) не отображались в разделе недоступных курсов для студентов, которые не записаны на эти курсы.

## Причина
1. **Неправильная обработка API данных**: Согласно FastAPI документации, поле `age_category` представляет собой массив строк `["All"]`, а не одну строку.
2. **Логическая ошибка**: Функция `isCourseSuitableForAge` обрабатывала `age_category` как строку, а не как массив.

## Решение

### Изменения в `courseService.js`

#### 1. Исправлена функция `isCourseSuitableForAge`
```javascript
// БЫЛО: 
const ageCategory = course.age_category.toLowerCase();

// СТАЛО:
if (!course.age_category || !Array.isArray(course.age_category) || course.age_category.length === 0 || studentAge === null) {
  return true;
}

// Проверяем каждую возрастную категорию в массиве
for (const category of course.age_category) {
  const ageCategory = category.toLowerCase();
  // ... остальная логика
}
```

#### 2. Улучшена логика проверки возрастных категорий
- Проверка каждого элемента в массиве `age_category`
- Если хотя бы одна категория подходит студенту, курс показывается
- Курсы с категорией "All" теперь корректно показываются всем студентам

#### 3. Улучшены логи для отладки
```javascript
console.log('[CourseService] Course:', course.name, 
            'age_category:', course.age_category, 
            'student age:', studentAge, 
            'suitable:', suitable);
```

## Ожидаемое поведение после исправления

### Для студентов:
1. **Мои курсы**: Курсы, на которые студент записан
2. **Другие курсы**: 
   - Курсы с категорией "All" (если студент на них не записан)
   - Курсы, соответствующие возрасту студента (если студент на них не записан)

### Примеры:
- Студент 6 лет видит: курсы "All", "5-7", "6+", "sixplus"
- Студент 15 лет видит: курсы "All", "12+", "twelveplus", "12-18"
- Все студенты видят курсы с категорией "All" в недоступных, если не записаны

## Совместимость с API
- ✅ Поддержка массива возрастных категорий `["All"]`
- ✅ Обратная совместимость со строковыми категориями
- ✅ Поддержка диапазонов: "5-7", "8-10"
- ✅ Поддержка открытых диапазонов: "6+", "12+"
- ✅ Поддержка старых категорий: "sixplus", "twelveplus"

## Файлы изменены
- `/src/services/courseService.js` - исправлена функция `isCourseSuitableForAge`

## Тестирование
1. Войти как студент любого возраста
2. Перейти на страницу курсов
3. Проверить, что курсы "All" отображаются в разделе "Другие курсы"
4. Проверить логи в консоли браузера для отладки фильтрации
