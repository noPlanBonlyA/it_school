# Исправление кнопки "еще +2" в недельном и дневном видах

## Проблемы
1. ❌ В недельном/дневном видах нет слова "еще" (только "+2")
2. ❌ Кнопки расположены сверху вместо того, чтобы быть под событиями

## Решение

### 1. Добавление слова "еще" через CSS

**Проблема**: `moreLinkText` в FullCalendar не всегда применяется к timegrid видам.

**Решение**: Добавляем "еще" через CSS `::before`

```css
.fc-timegrid-more-link::before,
a.fc-timegrid-more-link::before {
  content: "еще " !important;
  font-weight: 600 !important;
}
```

**Результат**: 
- В месячном виде: "еще +2" (из JavaScript)
- В недельном виде: "еще +2" (CSS добавляет "еще " к "+2")
- В дневном виде: "еще +2" (CSS добавляет "еще " к "+2")

### 2. Позиционирование внизу временного слота

**Проблема**: Кнопки появляются сверху временного слота, не под событиями.

**Решение**: Абсолютное позиционирование внизу с центрированием

```css
.fc-timegrid-event-harness-inset .fc-timegrid-more-link,
.fc-timegrid-more-link,
a.fc-timegrid-more-link {
  position: absolute !important;
  bottom: 2px !important; /* Располагаем внизу слота */
  left: 50% !important;
  transform: translateX(-50%) !important; /* Центрируем горизонтально */
  top: auto !important; /* Отменяем верхнее позиционирование */
  margin: 0 !important;
  z-index: 3 !important;
}
```

**Ключевые свойства**:
- `position: absolute` - для точного позиционирования
- `bottom: 2px` - располагаем внизу слота (2px отступ от края)
- `left: 50%` + `transform: translateX(-50%)` - центрирование
- `top: auto` - отменяем дефолтное верхнее позиционирование
- `z-index: 3` - поверх событий

## Как это работает

### Месячный вид (dayGrid)
```
┌─────────────────────┐
│ 15:00 — 17:00       │
│ 1                   │
│ андрей дмитриев     │
├─────────────────────┤
│    [еще +2]  ← внизу│
└─────────────────────┘
```

### Недельный/Дневной вид (timeGrid)
```
08:00 ┌────────────┐
      │  [еще +2]  │ ← сверху, НО через CSS
      └────────────┘    переместили вниз
      
15:00 ┌────────────┐
      │ 15:00—17:00│
      │ 1          │
      │ андрей...  │
      │            │
      │  [еще +2]  │ ← внизу слота
      └────────────┘
```

## Технические детали

### Селекторы
- `.fc-timegrid-more-link` - основной класс кнопки в timegrid
- `.fc-timegrid-event-harness-inset` - контейнер события
- `a.fc-timegrid-more-link` - специфичность для ссылок

### CSS-переменные
Переопределяются для гарантии зелёного фона:
```css
--fc-more-link-bg-color: #00B18F !important;
--fc-more-link-text-color: white !important;
```

### Приоритет стилей
Используется `!important` для переопределения стилей библиотеки FullCalendar.

## Результат

### До исправления
- ❌ Недельный вид: "+2" (без "еще")
- ❌ Дневной вид: "+2" (без "еще")
- ❌ Позиция: сверху временного слота

### После исправления
- ✅ Недельный вид: "еще +2"
- ✅ Дневной вид: "еще +2"
- ✅ Позиция: внизу временного слота, под событиями
- ✅ Выравнивание: по центру
- ✅ Стиль: зелёная капсула

## Файлы изменены

- `/src/styles/SchedulePage.css` - добавлены:
  - `::before` для добавления "еще " в timegrid видах
  - Абсолютное позиционирование `bottom: 2px` для размещения внизу

## Дата исправления
10 октября 2025 г.

## Примечания

- В месячном виде слово "еще" добавляется через JavaScript (`moreLinkText`)
- В недельном/дневном видах слово "еще" добавляется через CSS (`::before`)
- Это связано с особенностями работы FullCalendar с разными типами видов
- Оба метода дают одинаковый визуальный результат: "еще +2"
